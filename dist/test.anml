(def LOW_COLOR #505050)
(def HIGH_COLOR #71ed55)
(def WIRE_WIDTH 3)


(def Switch
  (Rectangle
    (width 20)
    (height 20)
    (strokeColor LOW_COLOR)
    (fillColor data._out._state == 0 ? LOW_COLOR : HIGH_COLOR)
  )
)

(def AndGate
  (Rectangle
    (x -8)
    (strokeColor LOW_COLOR)
    (fillColor data._out._state == 0 ? LOW_COLOR : HIGH_COLOR)
    (width 30)
    (height 40)
  )
  (Circle
    (x 10)
    (radius 20)
    (strokeColor LOW_COLOR)
    (fillColor data._out._state == 0 ? LOW_COLOR : HIGH_COLOR)
  )
)

(def NotGate
  (Triangle
    (x1 -15) (y1 15)
    (x2 15) (y2 0)
    (x3 -15) (y3 -15)
    (strokeColor LOW_COLOR)
    (fillColor data._out._state == 0 ? LOW_COLOR : HIGH_COLOR)
  )
  (Circle
    (x 18)
    (radius 4)
    (strokeColor LOW_COLOR)
    (fillColor data._out._state == 0 ? LOW_COLOR : HIGH_COLOR)
  )
)

(def GreaterThan1
  (AndGate
    (dataKey _and)
    (x 32) (y 0)
  )
  (NotGate
    (dataKey _not)
    (x -35)
    (y -10)
  )
  (Line
    (x 0) (y 0)
    (strokeWidth WIRE_WIDTH)
    (strokeColor data._and._inA._state == 0 ? LOW_COLOR : HIGH_COLOR)
    (x1 -50) (y1 10)
    (x2 9) (y2 10)
  )
  (Line
    (x 0) (y 0)
    (strokeWidth WIRE_WIDTH)
    (strokeColor data._not._out._state == 0 ? LOW_COLOR : HIGH_COLOR)
    (x1 -13) (y1 -10)
    (x2 9) (y2 -10)
  )
)

(Group
  (x -300) (y 100)
  (children
    (Switch
      (name sw1)
      (dataKey sw1)
      (y 90)
    )
    
    (Switch
      (name sw2)
      (dataKey sw2)
      (y 60)
    )
    
    (Switch
      (name sw3)
      (dataKey sw3)
      (y 30)
    )
    
    (Switch
      (name sw4)
      (dataKey sw4)
      (y 0)
    )
  )
)

(GreaterThan1
  (dataKey gt1)
)
